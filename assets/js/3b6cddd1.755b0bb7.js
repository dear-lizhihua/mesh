"use strict";(self.webpackChunkmesh=self.webpackChunkmesh||[]).push([[1887],{3905:function(t,e,n){n.d(e,{Zo:function(){return p},kt:function(){return m}});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var c=a.createContext({}),u=function(t){var e=a.useContext(c),n=e;return t&&(n="function"==typeof t?t(e):o(o({},e),t)),n},p=function(t){var e=u(t.components);return a.createElement(c.Provider,{value:e},t.children)},s={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},d=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,c=t.parentName,p=l(t,["components","mdxType","originalType","parentName"]),d=u(n),m=r,h=d["".concat(c,".").concat(m)]||d[m]||s[m]||i;return n?a.createElement(h,o(o({ref:e},p),{},{components:n})):a.createElement(h,o({ref:e},p))}));function m(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var c in e)hasOwnProperty.call(e,c)&&(l[c]=e[c]);l.originalType=t,l.mdxType="string"==typeof t?t:r,o[1]=l;for(var u=2;u<i;u++)o[u]=n[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2477:function(t,e,n){n.r(e),n.d(e,{frontMatter:function(){return l},metadata:function(){return c},toc:function(){return u},default:function(){return s}});var a=n(3117),r=n(102),i=(n(7294),n(3905)),o=["components"],l={sidebar_position:113},c={unversionedId:"articles/annotation",id:"articles/annotation",isDocsHomePage:!1,title:"annotation \u81ea\u5b9a\u4e49\u6807\u6ce8",description:"\u4f7f\u7528\u573a\u666f",source:"@site/docs/articles/annotation.md",sourceDirName:"articles",slug:"/articles/annotation",permalink:"/mesh/docs/articles/annotation",editUrl:"https://github.com/dear-lizhihua/mesh/edit/main/docs/articles/annotation.md",version:"current",sidebarPosition:113,frontMatter:{sidebar_position:113},sidebar:"tutorialSidebar",previous:{title:"tooltip \u81ea\u5b9a\u4e49\u63d0\u793a\u4fe1\u606f",permalink:"/mesh/docs/articles/tooltip"},next:{title:"\u901a\u8fc7 Math.log10() \u51fd\u6570\uff0c\u8ba1\u7b97\u56fe\u8868\u7f51\u683c\u7684 y \u8f74\u523b\u5ea6\u7ebf",permalink:"/mesh/docs/articles/calculate_tick"}},u=[{value:"\u4f7f\u7528\u573a\u666f",id:"\u4f7f\u7528\u573a\u666f",children:[]},{value:"API \u53c2\u8003",id:"api-\u53c2\u8003",children:[]},{value:"\u793a\u4f8b\u56fe\u7247",id:"\u793a\u4f8b\u56fe\u7247",children:[]},{value:"\u793a\u4f8b\u4ee3\u7801",id:"\u793a\u4f8b\u4ee3\u7801",children:[]}],p={toc:u};function s(t){var e=t.components,l=(0,r.Z)(t,o);return(0,i.kt)("wrapper",(0,a.Z)({},p,l,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"\u4f7f\u7528\u573a\u666f"},"\u4f7f\u7528\u573a\u666f"),(0,i.kt)("p",null,"\u5728\u56fe\u8868\u9700\u8981\u6dfb\u52a0\u5e73\u5747\u503c\u8f85\u52a9\u7ebf\u65f6\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7 G2 \u56fe\u8868\u7684\u8f85\u52a9\u5143\u7d20\uff1aannotation(\u6807\u6ce8) \u6765\u5b9e\u73b0\u3002"),(0,i.kt)("p",null,"annotation(\u6807\u6ce8) \u4e3b\u8981\u7528\u4e8e\u5728\u56fe\u8868\u4e0a\u6807\u8bc6\u989d\u5916\u7684\u6807\u8bb0\u6ce8\u89e3\u3002"),(0,i.kt)("h2",{id:"api-\u53c2\u8003"},"API \u53c2\u8003"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"antv v4 \u4e4b\u524d\u7684\u8c03\u7528\u65b9\u6cd5\u4e3a chart.guide()\uff0c\u63a5\u53e3\u5df2\u7ecf\u5e9f\u5f03\u3002\u5177\u4f53\u53c2\u8003 ",(0,i.kt)("a",{parentName:"p",href:"https://g2.antv.vision/en/docs/manual/upgrade#%E4%B8%8D%E5%85%BC%E5%AE%B9%E6%94%B9%E5%8A%A8"},"G2 4.0 \u5347\u7ea7\u6307\u5357 - \u4e0d\u517c\u5bb9\u6539\u52a8"),"\u3002")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://g2.antv.vision/zh/docs/api/general/annotation#chartannotationlineoption"},"chart.annotation().line(option)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://g2.antv.vision/zh/docs/api/general/annotation#chartannotationtextoption"},"chart.annotation().text(option)"))),(0,i.kt)("h2",{id:"\u793a\u4f8b\u56fe\u7247"},"\u793a\u4f8b\u56fe\u7247"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(824).Z})),(0,i.kt)("h2",{id:"\u793a\u4f8b\u4ee3\u7801"},"\u793a\u4f8b\u4ee3\u7801"),(0,i.kt)("p",null,"\u590d\u5236\u4ee5\u4e0b\u4ee3\u7801\uff0c\u7c98\u8d34\u5230 ",(0,i.kt)("a",{parentName:"p",href:"https://g2.antv.vision/zh/examples/case/column#column2"},"antv \u56fe\u8868\u793a\u4f8b")," \u4e2d\uff0c\u67e5\u770b\u6700\u7ec8\u7ed3\u679c\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"import { Chart } from '@antv/g2'\n\nconst data = [\n  { type: '\u672a\u77e5', value: 654 },\n  { type: '17 \u5c81\u4ee5\u4e0b', value: 654 },\n  { type: '18-24 \u5c81', value: 4400 },\n  { type: '25-29 \u5c81', value: 5300 },\n  { type: '30-39 \u5c81', value: 6200 },\n  { type: '40-49 \u5c81', value: 3300 },\n  { type: '50 \u5c81\u4ee5\u4e0a', value: 1500 },\n]\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  height: 500,\n  padding: [50],\n})\nchart.data(data)\nchart.scale('value', {\n  alias: '\u9500\u552e\u989d(\u4e07)',\n})\n\nchart.axis('type', {\n  tickLine: {\n    alignTick: false,\n  },\n})\n// chart.axis('value', false)\n\nchart.tooltip({\n  showMarkers: false,\n})\nchart.interval().position('type*value')\nchart.interaction('element-active')\n\n// \u6839\u636eY\u8f74\u7684\u503c\u7b97\u51fa\u5e73\u5747\u503c\nconst getYValueMean = () => {\n  let yValueTitle = 0\n  data.forEach(item => {\n    yValueTitle += item.value\n  })\n  return yValueTitle / data.length\n}\n// \u7ed8\u5236\u56fe\u8868\u5e73\u5747\u503c\u8f85\u52a9\u7ebf\nchart.annotation().line({\n  start: ['min', getYValueMean()],\n  end: ['max', getYValueMean()],\n  style: {\n    stroke: '#000',\n    lineWidth: 2,\n    lineDash: [3, 3],\n    zIndex: 999,\n  },\n}).text({\n  position: ['min', getYValueMean() * 1.05], // \u53ef\u4ee5\u8c03\u6574\u6807\u6ce8\u6587\u672c\u548c\u6807\u6ce8\u7ebf\u4e4b\u95f4\u7684\u9ad8\u5ea6\u6bd4\u4f8b\u3002\n  content: '\u5e73\u5747\u503c\uff1a' + `${getYValueMean()}\u4e07`\n})\nchart.render()\n")))}s.isMDXComponent=!0},824:function(t,e,n){e.Z=n.p+"assets/images/img_1-7fc6da6d5a49c2246bbd5be597ce4b51.png"}}]);